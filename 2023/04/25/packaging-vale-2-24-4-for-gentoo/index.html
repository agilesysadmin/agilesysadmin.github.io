<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta content="width=device-width, initial-scale=1" name="viewport">
        <meta content="Ferenc Erki - agile sysadmin" name="description">
        <meta content="Ferenc Erki" name="author">
        <meta content="4KzbYclokErOfwrKiBpX8XCu8ckJ9A7zwueL9VAbAYE" name="google-site-verification">
        <link href="/theme/images/favicon.svg" rel="icon">
        <link href="/theme/css/selenized.css" rel="stylesheet">
        <script data-domain="blog.ferki.it" defer src="https://plausible.io/js/script.js"></script>
        <title>Packaging vale-2.24.4 for Gentoo</title>
    </head>
    <body>
        <header>
            <h1><a href="/">agile sysadmin</a></h1>
            <p>by Ferenc Erki</p>
        </header>

        <nav>
            <ul>
                <li><a href="/pages/about.html">About</a></li>
                <li><a href="/">Posts</a></li>
                <li><a href="https://ferki.it" target="_blank">Homepage</a></li>
                <li><a href="https://cal.com/ferki" target="_blank">Booking</a></li>
            </ul>
        </nav>

        <main>
            <article>

    <header>
    <h1><a href="/2023/04/25/packaging-vale-2-24-4-for-gentoo/">Packaging vale-2.24.4 for Gentoo</a></h1>

    <aside>
        <time datetime="2023-04-25">
            üìÖ 2023-04-25
        </time>
            <a href="/tag/gentoo/">#Gentoo</a>
            <a href="/tag/ebuild/">#ebuild</a>
            <a href="/tag/overlay/">#overlay</a>
            <a href="/tag/vale/">#vale</a>
    </aside>

</header>


    <section id="section-1">
        <p><a href="https://vale.sh">Vale</a> describes itself as a ‚Äúsyntax-aware linter for prose
built with speed and extensibility in mind‚Äù. <a href="https://github.com/ferki/gentoo-overlay">My
overlay</a> has the latest <a href="https://github.com/errata-ai/vale/releases/tag/v2.24.4">v2.24.4
release</a> available for
fellow Gentoo users.</p>

<p>I recommend previous users to continue reading about ebuild changes.</p>

    </section>
    <section id="section-2">
        <h2 id="changes">Changes</h2>

<ul>
<li><p>drop EGO_SUM in favor of dependency tarballs</p>

<p>I prepare to move packages not already in the main tree from my overlay to
GURU. As part of this effort, I now <a href="/2023/04/24/host-gentoo-dependency-tarballs-as-github-releases">host Gentoo dependency tarballs as
GitHub
releases</a>
to avoid CI warnings from pkgcheck.</p></li>
<li><p>remove the <code>styles</code> custom USE flag</p>

<p>The <code>styles</code> USE flag used to pull in extra app-text/vale-style-* ebuilds
containing editorial styles and metrics. Since it did not affect code,
Gentoo developers recommended to use a different approach to avoid
recompilation upon related changes.</p>

<p>Vale makes possible to manage the same set of styles as <em>packages</em> with the
<code>vale sync</code> command together with the <code>StylesPath</code> and <code>Packages</code>
configuratoin options since the <a href="https://github.com/errata-ai/vale/releases/tag/v2.16.0">v2.16.0
release</a>.</p>

<p>I decided to drop the <code>styles</code> USE flag along with the previous style
ebuilds in favor of simplified packaging and following upstream‚Äôs built-in
approach.</p></li>
<li><p>remove the example configuration file</p>

<p>Different use cases need different solutions, and better to opinionated
bits out of the ebuild as much as possible. The <code>vale</code> command also prints
instructions about adding a configuration file along with sample content.</p></li>
</ul>

    </section>

</article>

<ul class="pager">
    <li class="prev">
            <a href="/2023/04/24/host-gentoo-dependency-tarballs-as-github-releases/index.html" rel="prev">
                ‚Üê Older
            </a>
    </li>
    <li class="next">
            <a href="/2023/04/26/gentoo-has-xsel-1-2-1-among-the-firsts/index.html" rel="next">
                Newer ‚Üí
            </a>
    </li>
</ul>


        </main>

        <footer>
            
            <ul>
                <li><a href="https://github.com/ferki" rel="me" target="_blank">GitHub</a></li>
                <li><a href="https://profile.codersrank.io/user/ferki" rel="me" target="_blank">CodersRank</a></li>
                <li><a href="https://www.linkedin.com/in/ferki" rel="me" target="_blank">LinkedIn</a></li>
                <li><a href="https://fosstodon.org/@ferki" rel="me" target="_blank">Mastodon</a></li>
                <li><a href="mailto:ferki@ferki.it">Email</a></li>
                <li><a href="/pages/impressum.html">Impressum</a></li>
                <li><a href="/pages/privacy_policy.html">Privacy policy</a></li>
            </ul>
            <ul>
                <li>¬© 2023 Ferenc Erki</li>
            </ul>

        </footer>
    </body>
</html>
